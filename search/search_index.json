{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u6b22\u8fce\u6765\u5230 OI Notes\uff01","title":"Home"},{"location":"basic/prefix-sum/","tags":["\u57fa\u7840\u7b97\u6cd5","\u524d\u7f00\u548c"],"text":"\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u4e00\u7ef4\u6570\u7ec4 \\(\\{a_n\\}\\) \u3002 \u8003\u8651\u4e00\u4e2a\u95ee\u9898\uff1a\u7ed9\u5b9a\u4e00\u4e2a\u533a\u95f4 \\([l, r]\\) \uff0c\u6c42 \\(\\sum_{i=l}^r a_i\\) \u3002 \u6211\u4eec\u53ef\u4ee5\u5148\u4f7f\u7528\u66b4\u529b\u7684\u65b9\u6cd5\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u8be2\u95ee\uff0c\u904d\u5386 \\([l, r]\\) \uff0c\u65f6\u95f4\u590d\u6742\u5ea6 \\(O(nq)\\) \uff1a C++ int query ( int l , int r ) { int sum = 0 ; for ( int i = l ; i <= r ; i ++ ) sum += a [ i ]; return sum ; } \u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c \\(\\sum_{i=l}^r a_i = \\sum_{i=1}^{r}a_i-\\sum_{i=1}^{l-1}a_i\\) \uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5728 \\(O(n)\\) \u65f6\u95f4\u5185\u9884\u8ba1\u7b97 \\(\\{s_n\\}=\\sum_{i=1}^{n}a_i\\) \uff1a C++ for ( int i = 1 ; i <= n ; i ++ ) s [ i ] = s [ i -1 ] + a [ i ]; \u8fd9\u6837\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u8be2\u95ee\uff0c\u6211\u4eec\u53ea\u9700\u8981 \\(O(1)\\) \u7684\u65f6\u95f4\u590d\u6742\u5ea6\uff1a C++ printf ( \"%d \\n \" , s [ r ] - s [ l -1 ]); \u6211\u4eec\u4e0d\u96be\u53d1\u73b0\uff0c\u8fd9\u79cd\u9884\u5904\u7406\u7684\u65b9\u6cd5\uff0c\u662f\u4e00\u4e2a\u96c6\u5408\u7684\u8865\u96c6\uff0c\u4e8e\u662f\u5c31\u53ef\u4ee5\u63a8\u5e7f\u5230\u4e8c\u7ef4\u4e0a\u3002 \u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4 \\(\\{a_{ij}\\}\\) \u3002 \u8003\u8651\u4e00\u4e2a\u95ee\u9898\uff1a\u7ed9\u5b9a\u4e00\u4e2a\u77e9\u5f62\u533a\u57df \\([l, r]\\times[d, u]\\) \uff0c\u6c42 \\(\\sum_{i=l}^r\\sum_{j=d}^u a_{ij}\\) \u3002 \u90a3\u4e48\u8bbe \\(s_{l,r,d,u}\\) \u8868\u793a \\(\\sum_{i=l}^r\\sum_{j=d}^u a_{ij}\\) \u3002 \u6f14\u793a\u56fe\u5982\u4e0b\uff1a \u6545 \\(s_{l,r,d,u} = s_{1,1,r,u} - s_{1,1,l-1,u} - s_{1,1,r,u-1} + s_{1,1,l-1,d-1}\\) \u3002 \u6ce8\u610f\u5230 \\(s_{l,r,d,u}\\) \u7684\u503c\u53ea\u4e0e \\(s_{1,1,*,*}\\) \u7684\u503c\u76f8\u5173\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u53ea\u8ba1\u7b97 \\({s_{1,1,d,u}}\\) \u7684\u503c\u5373\u53ef\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u4f18\u5316\u5230 \\(O(n^2)\\) \u3002 \u5bb9\u6613\u63a8\u5f97 \\(s_{1,1,d,u} = s_{1,1,d-1,u} + s_{1,1,d,u-1} - s_{1,1,d-1,u-1} + a_{d,u}\\) \u3002 \u4e8e\u662f\u5c31\u53ef\u4ee5\u7701\u53bb\u524d\u4e24\u7ef4\uff0c\u5f97\u5230 \\(s_{d,u} = s_{d-1,u} + s_{d,u-1} - s_{d-1,u-1} + a_{d,u}\\) \u3002 \u6211\u4eec\u53ef\u4ee5\u5728 \\(O(n^2)\\) \u7684\u65f6\u95f4\u5185\u9884\u5904\u7406\u51fa \\(\\{s_{d,u}\\}\\) \uff1a C++ for ( int i = 1 ; i <= n ; i ++ ) for ( int j = 1 ; j <= m ; j ++ ) s [ i ][ j ] = s [ i -1 ][ j ] + s [ i ][ j -1 ] - s [ i -1 ][ j -1 ] + a [ i ][ j ]; \u95ee\u8be2\u7684\u65f6\u5019\u4fbf\u662f\uff1a C++ int query ( int l , int r , int d , int u ) { return s [ r ][ u ] - s [ l -1 ][ u ] - s [ r ][ d -1 ] + s [ l -1 ][ d -1 ]; } printf ( \"%d \\n \" , query ( l , r , d , u ));","title":"\u524d\u7f00\u548c"}]}